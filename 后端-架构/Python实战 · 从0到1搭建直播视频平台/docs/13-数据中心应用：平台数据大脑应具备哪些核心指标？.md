你好，我是Barry。

除了丰富多彩的视频，彰显个性的个人中心，提升使用体验和用户粘性的视频管理模块，一个在线视频平台还需要一个强大的数据中心。

数据中心相当于整个平台的“大脑”，可以把各种数据归纳综合，可视化地呈现给创作者，方便用户管理和优化自己的视频内容。这节课我们就来设计和实现这个模块。

## 为什么需要数据中心

为什么需要数据中心这个模块呢？我们不妨结合例子来分析分析。比方说一个创作者在平台里发过5个视频，如果他想查看这些视频的播放、点赞和收藏数据，只需要点开几个视频依次看看就行。

但是，当数据量大的时候，他就得花费大量的时间干这个事情，这样就会带来这样几个问题。

1.创作者无法掌握自己的视频平台内的整体表现，只能关注单一维度的数据。如果想综合把握全部视频情况就要投入大量时间。

2.无法精准分析什么样的内容粉丝更喜欢，也不清楚粉丝的习惯、活跃度，不利于建立与粉丝的粘性。

3.难以精准规划自己的账号，因为创作者一直是“蒙眼”创作中，没有“情报员”和“分析专家”的支持，就不能清晰把控自己账号的定位、内容，发展得难免要慢一些。

因此，数据中心模块就显得非常重要了。有了它，上面这些问题都能迎刃而解。经过前面的分析，我们也很容易推理出数据中心的功能。

数据中心充当的是“数据分析专家”的角色，能为创作者提供多维度的分析，让他们无需经过繁琐的数据统计流程，就能对自己发布内容的数据一目了然。这样创作者就更有可能产出更多优质内容，洞察用户偏好，把控好自己的内容风格。

另外，数据中心也有助于创作者清晰了解粉丝画像和活跃数据，在内容发布推广上可以更精准地推送。这一点很多营销型平台都在广泛应用。

通过上面的分析，相信你已经明确了数据中心的重要性。接下来，我们就来梳理一下数据中心都需要呈现哪些维度的数据，让它的功能丰富起来。

## 模块需求梳理

为了帮你理清思路，我们不妨结合后面的思维导图来分析。  
![](https://static001.geekbang.org/resource/image/3b/5c/3bd6799a252ae58f34fc7c2584f3b85c.jpg?wh=2900x2211)  
平台内的数据中心，主要服务于平台用户。核心价值就是解决和优化传统平台普遍存在的3个痛点问题，从而优化平台体验。

1.帮助创作者告别冗杂的数据统计流程，节约时间和精力。

2.帮助创作者更好地把控自己的视频内容。平台能够通过对多维数据分析，能够判断视频的好坏，辅助用户不断优化。

3.让创作者更清晰粉丝相关数据，建立黏性，实现精准送达，提升用户体验。

明确了需要解决的问题，就很容易确定数据中心需要展示哪些内容，才能满足前面这几项需求。

我们按照基本数据和复合数据两类分别讨论。

一类是基本数据，所谓基本数据就是视频相关的点赞量、播放量、收藏量以及评论量这几项指标。

另一类就是复合数据，复合数据就是非单一因素组成的数据，复合数据能够帮我们综合分析平台视频的传播效果。例如七天内不同类型视频的播放量的情况，我们需要记录不同类别的视频播放数据，并且以天为单位来做统计。

对于我们的视频平台来说，复合数据可以关注这几个维度：用户在一周内不同类型视频的播放量、粉丝活跃度、粉丝画像以及一定周期内粉丝量的变化。以后如果你需要开发其他应用的数据中心，也可以参考这里的分类和实现思路。

## 数据中心展现方式

说到展示方式，就不得不提到前端可视化。可视化技术可以更清晰直观地呈现数据分析结果，在数据中心界面内更离不开可视化的使用。可视化的应用场景非常多，例如像数据大屏、监控类数据平台、营销运营类平台等。

接下来，我们重点根据数据中心的需求，来选取合适的展示方式和展示内容（即展示哪些维度的数据）。

想帮助创作者了解自己的粉丝，精准地分析决策，最终不断优化自己的内容，后面这几个维度的数据比较关键。

- 不同类型视频7天的播放量
- 周内粉丝的变化量
- 粉丝30天活跃度分布
- 粉丝的用户画像

接下来我们来选定不同维度数据展示的形式。比如各类视频七天的播放量这个数据，采用**横向柱状图**比较合适，因为这么做可以清晰地呈现每一天、每一类型视频的播放情况，整体展示效果比较直观。具体展示样式你可以参考后面的图片。

![](https://static001.geekbang.org/resource/image/80/22/80515fe78667b61ebbac4fdayyc8fb22.jpg?wh=2600x2148)

下一类数据就是周内粉丝量的变化。因为粉丝量的变化是波动的，所以我更推荐通过折线图呈现，这样更直观形象。具体展示形式如下所示。

![](https://static001.geekbang.org/resource/image/00/73/0028675a6cfd0eaa85d0f8d2e658ca73.jpg?wh=2600x2080)

接下来就是活跃度的分布情况。为了让创作者对比粉丝的活跃度和自己的活跃度，我们需要一种可以直观对比二者活动区间的展示方式，就像后面这样。我们把这种图像叫做**多X轴曲线图**。

![](https://static001.geekbang.org/resource/image/cb/75/cb2e8caa609765c8c597db9f58133e75.jpg?wh=2600x2332)

最后就是粉丝画像。我们选用**饼图**的形式更合适，因为不同类型的粉丝就都会在整个饼形图占据一定的比例。对于比例数据，饼图就是最好的呈现方式。通过饼图数据的比例，用户就能清晰地看到自己粉丝画像的情况。

![](https://static001.geekbang.org/resource/image/cc/87/ccb6dc1289729d270215527fcebfa687.jpg?wh=2600x1997)

## 数据采集与实现

明确了不同维度数据的展示方式以后，我们需要解决的下一个问题就是如何采集数据。这部分主要是帮你理清思路，并且为后续课程整体页面具体的设计开发打好基础。

我们先从七天播放量的数据入手。我们先要明确在平台中的视频的分类，这样才能记录不同类别视频的播放量。我们先要在视频播放页记录播放次数。数据库中也要有单独的表来存储这些前端记录，记录中重点关注的字段信息应该包含视频ID、用户ID、观看者ID、观看次数等字段，这样统计才更加全面。

接下来是粉丝量的变化。记录这个数据比较简单，在游客点击关注之后，用户的粉丝量就会增长，我们只需要把近一周的这个数据查询出来，再封装展示出来就可以了。粉丝变化量前期可能波动会大一些，随着时间的推移，慢慢就会稳定下来，当然这个过程中也可能出现暴涨暴跌的情况。

然后是活跃度数据的采集与展示。我们要留意的是Y轴展示的数据是百分比，这代表了某个时间段用户和粉丝的活跃度分布。因此，我们需要一个操作日志，用于监控记录用户的行为和活跃时间段。用户登录、点击视频以及浏览视频的相关数据，都是我们要重点关注的。

最后是粉丝画像，看似呈现内容较为复杂，实际还是比较简单的。因为平台中本来就采集了用户信息（比如职业、性别、 年龄等等），这里只不过是通过可视化的方式呈现出来而已。针对我们的需求场景，只需要关注粉丝的性别和行业这两个字段就可以，基础数据加上这两个字段就足以支撑用户画像的呈现。

## 总结

今天的内容告一段落，我们一起来回顾总结一下这节课的重点知识。

我们把数据中心比作平台的大脑、情报员，或者说是数据分析专家，有了它的加持，视频平台的生态才会越做越好。

想要设计好数据中心模块，首先要做好需求分析工作，包括明确数据中心模块的使用者，。了解他们期望解决的问题。基于这些分析，才能选择更合适的数据展现方式。以后你应对可视化相关的功能需求时，也可以参考这节课的思路。

根据不同维度的数据特点，选定相应的可视化图表也相当重要。如果图表和数据不够匹配，数据分析结果就会更加模糊。

当然，最后数据中心模块的开发还要落到实现环节。但在具体实现之前，我们要先确认不同数据的采集方式，在实现之前考虑得越全面，后续动手时思路就会越清晰，最终才能达到我们期望的效果。

下节课，我们将会学习如何使用数据可视化组件库，来应对各式各样的可视化呈现需求，敬请期待。

## 思考题

除了前面提到的四个维度的数据，你觉得数据中心里还有必要新增哪些维度的数据？

欢迎你在留言区和我交流互动，如果这节课对你有启发，也推荐你分享给更多朋友。
<div><strong>精选留言（2）</strong></div><ul>
<li><span>安静点</span> 👍（0） 💬（1）<p>可以考虑增加：
1. 粉丝互动数据，如点赞、弹幕、评论数量等
2. 用户观看视频时长分布，如展示游客和登录用户、不同平台(电脑端、手机端)的用户观看时长等</p>2023-05-23</li><br/><li><span>peter</span> 👍（0） 💬（1）<p>请教老师几个问题：
Q1：老师能否介绍一下视频平台的费用大致？比如，我想建一个视频平台，投资大约多少？
比如网站有五百万用户，每年需要多少费用？ 机器多少台多少费用，带宽多少以及多少费用等等。
Q2：视频种类太多了，网站定义的视频类型是有限的，比如十种类型。如果某一个视频都不符合这十种，怎么处理？
Q3：用户的操作日志，是由前端页面记录吗？具体来说，Vue记录用户的操作日志，然后发送给后端，是这样吗？
Q4：数据中心等于数据库吗？
网站肯定有数据库，现在又说到了数据中心。两者是什么关系？</p>2023-05-22</li><br/>
</ul>