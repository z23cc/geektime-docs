你好，我是高楼，网名叫Zee。 很高兴能在这里和你聊性能测试。

在课程开始之前，我先介绍下我自己的从业经历。

从2005年毕业开始，除了第一年在做路由器方面的功能、性能测试之外，我后面的工作几乎都是围绕着性能测试分析展开的。

那时我还年轻，喜欢混迹于各大测试论坛，从而认识了很多行业内的高手，很多人也是从那里认识我的。再后来我开始自己弄测试论坛，其实主要是将自己在工作中的积攒的经验分享了出去，虽然一直没有商业化运营，但是不得不说，这个过程对我的知识体系积累起到了非常重要的作用。渐渐地，我用这个论坛形成了自己关于性能测试完整的知识链。

再后来，我开始带团队，我做性能项目的宗旨就是上线不死，死了不收钱。

我从四五个人的小团队开始，一直到有300余人的国内外混合团队。我带着这些团队，完整地做过大概40多个项目。你可能会问，“完整的项目”是什么意思？它指的就是持续时间在2个月左右的性能项目。

为什么会耗时这么长呢？这就涉及到了性能测试的真正含义和工作内容。

我一开始也和大多数人一样，以为做性能测试，就是做些脚本、参数化、关联，压起来之后，再扔出一个结果。

随着时间的增长，我越做越多。慢慢地，我发现，性能测试好像远不止这些内容。

当我把性能分析也加入到工作中之后，性能工作一下子变得丰富起来。现在，我更关注一个性能测试项目在分析调优了之后，响应时间有多大的提升，TPS有多大的提高，资源有多少的节省。

我曾经在一个零售业大厂做过一个性能咨询。他们的硬件资源很多，256C512G的机器有一堆，在生产环境中，几乎没有把CPU用得超过5%的，但是性能问题还不断出现。后来经过两周的性能分析，最后把硬件降到了原来的四分之一，但同时又把性能提高了10倍，降硬件的同时，性能也提高了。

类似的工作还有很多，正是这些经历让我觉得，在一个性能测试项目中，分析是必然的过程，只有这样，性能测试的工作才有落地的价值。而这个过程，最好是性能工程师来做，不是别人，因为**只有性能工程师才可以串起完整的链路**。

真正的性能工程师，可以把结果整理清楚之后，又可以下结论，提出解决方案：线上根据这个测试结果，做对应的配置，系统肯定可以稳定运行。又或者是这样的：当前测试说明了线上不能支持，后面应该如何优化。

你看，这样做，性能工程师的价值是不是立刻就显现出来了？

所以，我们努力的方向是性能的完整工程，这就是我在开头提到的，既要有前期的测试，还要有中间的分析，以及最后的调优，而不仅仅是做做脚本。

当然了，做脚本和参数、压场景、出报告，这是所有新手都必经的一个过程，就像写代码先从“Hello World”开始一样。但是这个过程，必然要在短时间内渡过。

如果你想把性能测试做好，就不要局限自己的技术范围和认知范围。无论是系统、数据库、代码、中间件、存储、网络，你遇到什么问题，都要试着去分析下该如何判断，并考虑如何在后续的过程中进行调优。

**在此我需要强调一下，也希望借此可以纠正你的认知，那就是，在我们这个课程中，“性能测试”不仅仅包括测试，还包括分析和调优**。

## 学习性能测试的方法到底是什么？

那现在你心里是不是有个问题：好，我知道了这些，但是到底怎样才能做到呢？

在性能行业中，我看到很多人还在拿着一些看似合理实际没用的概念套在当前的性能领域中。

比如说，性能策略中的性能测试、压力测试、衰减测试、配置测试等等。这些概念你可能听了不下百遍了，但如果问你，你在项目中是否用到了这些策略？估计你都不大能想得起来，自己做的某个场景用到过什么样的策略。

比如说“二八原则”、“响应时间258或2510”、“理发店模型”、“最大TPS拐点”等等指标类的紧箍咒。在我看来，在项目的实践中，它们不只是百无一用，而且还产生了错误的导向。

因此，针对当前性能行业的现状，我结合自己多年来的经验，写了这个专栏。在专栏中，我将以实际的项目经历，告诉你在一个具体的项目是如何一步步落实到性能领域的每一个环节中的。

那这个专栏是怎么组织的呢？我主要分了四个模块。

第一个模块是性能测试基础篇。我想在这个模块里澄清一些性能测试的基础概念，讲解一些关键部分。但并不是对概念的简单描述，而是根据实际项目，告诉你真正具有指导价值的性能测试概念是什么，并解析这些概念在实际操作中的指导性作用。

在第二个模块中，我将通过性能测试工具的实际操作实例，对应性能测试的前后逻辑关系。在这一部分中，我会重点给你讲解，为什么要使用某些工具的某些功能，以便确保工具的使用及结果是为性能测试需求指标和性能分析报告而服务的，而不是浮于表面的“炫技”。

在第三个模块中，我将通过操作系统、应用服务器、数据库、缓存服务器、Java、C++等监控工具的使用和分析方法，告诉你它们产生的数据在性能分析过程中该如何判断，为测试报告及性能分析提供有效的历史数据。

最后一个模块是对前三个模块的凝练，我会讲解不同实际操作场景中的性能测试分析过程，比如实际的瓶颈判断的过程是怎样的，怎么分析出根本的原因，如何提出具体的解决方案，最后的实施效果又是怎样的。

总的来说，这门课我自己有一个原则，那就是：我不想用空中楼阁似的理论获得情感上的激情，也不想用未经实践的过程获得短暂认同。

## 性能工程师的前景到底在哪里？

看到这里，如果你已经跃跃欲试想要一探性能测试分析的究竟了，热烈欢迎你。不过我还是有些心里话要再唠叨几句。

性能领域要求的专业技能并不少，发展的宽度和深度完全取决于你自己的意愿。**你可以选择只做一个写脚本的工程师，也可以选择成为一个性能调优的专家**。从技术范围上说，测试工具、操作系统、开发语言、实现架构、数据库、网络、存储、部署架构等，都是你需要掌握的内容。

所以，我希望这个专栏可以抛出一个价值观——**让性能变得有价值**。以此刷新你对性能测试的认识，知道这个方向可以干很多事情。

那价值体现在哪里呢？

在性能测试分析优化之前，如果TPS是100，你做完了之后TPS是10000，这就是价值。

在性能测试分析优化之前，如果响应时间是0.1ms，你做完了之后是0.01ms，这就是有价值。

在性能测试分析优化之前，如果CPU使用率是100%，你做完了之后是50%，这就是有价值。

希望你可以从实用的角度，理性看待性能市场，而不是人云亦云。 更希望通过这个专栏，你能够在性能领域这条路上坚定地走下去，并获得长足的发展。可以骄傲地说，我的目标是性能工程师，我的职位是性能工程师。

好了，如果你准备好了，那我们就正式开始吧，欢迎你留言说说自己的情况，你心中的性能测试是怎样的？我们下一讲见！
<div><strong>精选留言（15）</strong></div><ul>
<li><span>Leo</span> 👍（34） 💬（3）<p>有全链路压测相关的实战吗？</p>2019-12-18</li><br/><li><span>技术修行者</span> 👍（24） 💬（1）<p>现在带一个最近在带一个小团队做项目的底层框架设计，为业务提供基础服务。
业务端的性能测试人员的套路就是写脚本+跑压测+贴结果，没有任何分析，直接发给所有人。因为给出的只是全链路的结果，我只能是把它分成不同的部分，例如前端、业务服务、基础服务等，然后分析瓶颈到底是什么原因造成的。
因为基础框架提供了数据访问服务，压测过程中发现用户到达一定规模后，某个业务相应操作时间在1分钟以上，所有人都指向了基础服务做的不好，影响了团队的士气，于是我做了一系列操作，抓取日志、分析日志，发现业务使用的SQL语句，在极端情况下，在dn客户端也需要执行1分钟以上才能返回结果，和基础服务没有关系，又是一通撕。。。

作者的专栏立意很好，希望能学完这个专栏后，更好的应对可能出现的各种性能问题。</p>2020-01-01</li><br/><li><span>zuozewei</span> 👍（19） 💬（3）<p>性能测试通过概念、模型、观测、实验等手段来进行问题的剖析。其涉及范围之广，从压力工具、操作系统、开发语言、数据库、消息队列、中间件、网络、压力工具等各个方面。通常还需要深入的理解各种原理，特别是在一些重点细节上，往往需要有超出一般的认识和方法。</p>2019-12-16</li><br/><li><span>斜月浮云</span> 👍（17） 💬（2）<p>老板说，小伙子写的代码太差了，浪费了硬件99%的性能，太败家了，还得专门花时间优化才能上线😂</p>2019-12-17</li><br/><li><span>David.cui</span> 👍（15） 💬（4）<p>我是一个DBA，在某个金融客户的上线之前的压力测试中，tps可以到8000多，但是cpu使用率达80~90%。客户联系我到现场之后，发现大量的cpu资源都是sys%部分。我们经过反复测试发现数据库的参数没有问题，是操作系统架构需要调整，调整之后 cpu使用率不到50%，tps达到了10000+</p>2020-01-27</li><br/><li><span>wwwricky</span> 👍（8） 💬（1）<p>老师，二八原则&#47;响应时间258&#47;TPS拐点 为什么是无用的呢？这个没看懂。</p>2019-12-24</li><br/><li><span>月半虫工🍧</span> 👍（7） 💬（2）<p>一直想学性能测试，但靠看书自学完全入不了门，希望老师能带我入门。我也会坚持做笔记，下面是我的幕布笔记链接：https:&#47;&#47;mubu.com&#47;doc&#47;dL5rtL432Z</p>2019-12-18</li><br/><li><span>Beluga</span> 👍（6） 💬（1）<p>最初写php,今年在写java，最近负责公司业务的性能测试。性能调优比写代码更有趣，当通过自己的实践让tps，响应时间的提高，避免错误率。有种玩游戏闯关的感觉。</p>2020-05-13</li><br/><li><span>琉姩兮珞</span> 👍（6） 💬（2）<p>听了第一讲，决定入坑学习，哈哈哈</p>2019-12-23</li><br/><li><span>jy</span> 👍（5） 💬（1）<p>答疑区看到老师说：全链路就是系统要做的链路改造。
链路改造是指？</p>2021-01-25</li><br/><li><span>bolo</span> 👍（5） 💬（1）<p>想通过学习性能测试的时候， 把相关的技术栈补一补。 

目前停留在“做脚本和参数、压场景、出报告”的地方，想向前走一走.....</p>2019-12-24</li><br/><li><span>Geek_6a9aeb</span> 👍（4） 💬（2）<p>如果后续有提供可以方便提供搭建重现性能的瓶颈的环境就好了，期待下个专栏，光听老师的音色就知道是全网最好听的</p>2021-01-22</li><br/><li><span>吕作晶</span> 👍（4） 💬（2）<p>为什么错误的概念却流传更广呢？</p>2020-03-22</li><br/><li><span>于文玮</span> 👍（3） 💬（1）<p>一直做功能测试，一直没有突破，愁人啊</p>2020-03-19</li><br/><li><span>小老鼠</span> 👍（3） 💬（1）<p>1、性能测试工程师就是全栈工程师喽，真正业内有多少可以达到？2、性能测试工作需要其他人参予吗？3、分布式系统与单机系统在性能上有无差别？若有差别，差別在哪儿？</p>2019-12-17</li><br/>
</ul>