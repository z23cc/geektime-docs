Hi，我之前给你出了一套试卷，不知道你答得怎么样了呢？

今天我们继续来挑战！

在性能测试分析的过程中，有两个关键点是做分析的人必须要关注的，第一点就是，在压力工具执行完成之后，要学会判断瓶颈是否出现，以及是否应该继续加压。其次，在分析中，要学会分段会层，如果发现是某个节点出现了问题，就要学会从已有问题的计数器顺藤摸瓜找到具体的证据链。

要想做到这一点，就需要有基础知识的积累和清晰的判断思路。

鉴于此，选择题之外，我又想了两道主观题，帮助你复习一下我们之前讲到的核心思路。

1. 从压力工具中的响应时间和TPS图，如何判断出性能瓶颈？说明判断逻辑。
2. 从操作系统的us CPU高或者wa CPU高，如何判断出根本原因，请画出你的分析逻辑证据链。

你可以从专栏的第2篇、第6篇和第17篇找到相关的线索。

这是一个可简单、可复杂的主观题。在面试中，我经常会问到这样的问题，一般来说，回答都会反应出面试者的综合能力。有的人可能三两句就说完了，那显然功底不够，而有的人会有很多的经验可以分享，逻辑清晰。本专栏从前到后都在描述着一个完整的分析蓝图，而这个蓝图就是靠证据链来完成的。

所以对这个题目的回答就体现了你对性能分析理念的理解程度。

把你想到的判断逻辑放到GitHub上吧！我会查看这些答案，与你一起交流！
<div><strong>精选留言（4）</strong></div><ul>
<li><span>奕</span> 👍（3） 💬（2）<p>1: TPS 不再增加，响应时间随着线程数增加而增加，最后可能超时
2: CPU 使用率过高，应该先找到是哪个进程占用的CPU 过高，然后在排查进程对应的具体代码逻辑

&gt; 非专业性能测试工程师的思路</p>2021-01-07</li><br/><li><span>hello. world</span> 👍（0） 💬（1）<p>1.系统的吞吐能力取决于Tps，如果压力工具中的Tps下降，并不代表系统的处理能力下降，而是说明系统的处理能力达到瓶颈，系统每秒能处理的事物数就这么多，压力增长请求的事物在排队处理，就会导致响应时间变长。和游泳池排水是一样的道理，泳池代表的是压力源，排水管代表系统的处理能力最大Tps，每秒能排出的水量就只有这么多，如果要把所有的水排干，泳池里面的水只能排队处理，造成响应处理的时间长，想要快速排水减少响应处理时间，可以增加排水口，这就是性能调优。

2.top命令查看us CPU 高或者 wa CPU 高，可以了解到这个系统可能是属于Cpu计算型的系统，wa Cpu高存在磁盘的读写wait时间长，可以排查下句柄数上下文的切换，或者看下磁盘是否需要扩容，如果都不存在问题得查看程序进程再具体分析了。

受限于经验和知识能力只能片面的回答，希望老师可以解决相关疑惑。</p>2022-05-17</li><br/><li><span>hello. world</span> 👍（0） 💬（1）<p>1.系统的吞吐能力取决于Tps，如果压力工具中TPS下降，并不代表服务器处理能力下降，而是说明系统的处理能力已经达到了瓶颈，每秒处理的事物数就这么多。当系统处于瓶颈时随着压力的增长系统保持最大的Tps处理这些事物，剩余未处理完的事物(请求)在排队处理，造成响应时间也增长</p>2022-05-17</li><br/><li><span>bolo</span> 👍（0） 💬（1）<p>1、结合TPS曲线去，响应时间图，及线程数图分析。当TPS随着线程不再增加，而响应时间一直再正大，则表示系统已经达到了瓶颈。

2、us cpu 代表的是用户占用的CPU大小
wa  cpu 代表是等待用户输入输出的占用空间大小。

wa 过高是指等待CPU等待磁盘写入的时间过久，表示磁盘繁忙，这样用服务器就无法处理其他的业务请求了。
</p>2021-02-26</li><br/>
</ul>